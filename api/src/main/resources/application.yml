swagger:
  auth-url: https://thsa1.sanerproject.org:8443/realms/THSA/protocol/openid-connect/auth?nonce="1234testapi1234"
  token-url: https://thsa1.sanerproject.org:8443/realms/THSA/protocol/openid-connect/token
  scope:
    - openid
    - profile
api:
  document-reference-system: urn:ietf:rfc:3986
  patient-id-resolver: com.lantanagroup.link.nhsn.StoredListProvider
  require-https: true
  check-ip-address: false
  sender: com.lantanagroup.link.nhsn.FileSystemSender # com.lantanagroup.link.nhsn.FHIRSender
  downloader: com.lantanagroup.link.thsa.MeasureReportDownloader
  public-address: http://localhost:8080/api
  data-store:
    base-url: https://thsa1.sanerproject.org:9442/fhir # data store
    username: ***REMOVED***
    password: ***REMOVED***
  auth-jwks-url: https://thsa1.sanerproject.org:8443/realms/THSA/protocol/openid-connect/certs
  algorithm: RSA256
  token-verification-class: com.lantanagroup.link.auth.OAuthTokenValidator
  issuer: https://thsa1.sanerproject.org:8443/realms/THSA
  evaluation-service: https://thsa1.sanerproject.org:9443/fhir # CQF
  terminology-service: https://thsa1.sanerproject.org:9443/fhir # CQF
  report-aggregator: com.lantanagroup.link.thsa.THSAAggregator
  Data-Processor:
    csv: com.lantanagroup.link.thsa.GenericCSVProcessor
  query:
    mode: Local
  report-defs:
    max-retry: 20
    retry-wait: 5000
    urls:
      - bundle-id: THSAMeasure
        #url: https://thsa1.sanerproject.org:9443/fhir/Measure/THSAMeasure
        url: https://ehr-test.nhsnlink.org/fhir/Bundle/THSAMeasure
        #url: http://fhir:8080/fhir/Bundle/THSAMeasure This didn't work
        report-aggregator: com.lantanagroup.link.thsa.THSAAggregator
  measure-packages:
    - bundle-ids: [ 'THSAMeasure' ]
      id:  THSAMeasure
  concept-maps:
    - local-codes-cerner-test
  cors:
    allowed-origins: '*'
    allowed-headers: '*'
    allowed-credentials: false
    allowed-methods:
      - GET
      - POST
      - DELETE
      - PUT
      - OPTIONS
thsa:
  data-measure-report-id: 2e8d4719-770a-4151-bd4f-a62b2da7f1b8 #inventorydata
sender:
  file:
    path: #/Users/moodya/Downloads
    format: JSON
    pretty: true
  fhir:
    send-urls:
      #- url: http://fhir:8080/fhir
      #- url: http://localhost:9092/fhir
      - url: https://thsa1.sanerproject.org:9441/fhir # https://thsa1.sanerproject.org/fhir
        auth-config:
          credential-mode: Password
          token-url: https://thsa1.sanerproject.org:8443/realms/THSA/protocol/openid-connect/token
          ***REMOVED***
          ***REMOVED***
          ***REMOVED***
          #thsa-api
          scope: email profile
query:
  require-https: true
  fhir-server-base: https://pmh-vmhaitst-01.pmh.org/FHIRVALPHI/api/fhir/R4
  query-class: com.lantanagroup.link.query.uscore.Query
  auth-class: com.lantanagroup.link.query.auth.EpicAuth
  auth:
    epic:
      token-url: https://pmh-vmhaitst-01.pmh.org/FHIRVALPHI/oauth2/token
      audience: https://pmh-vmhaitst-01.pmh.org/FHIRVALPHI/oauth2/token
      client-id: ***REMOVED***
      key: '***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***
            ***REMOVED***'
uscore:
  require-https: true
  fhir-server-base: https://pmh-vmhaitst-01.pmh.org/FHIRVALPHI/api/fhir/R4
  parallel-patients: 20
  patient-resource-types:
    - Encounter
    - Condition
    - Flag
    #- MedicationRequest
    #- Observation
    - Procedure
    - ServiceRequest
    #- Coverage
    #- MedicationAdministration
    #- Patient
  other-resource-types:
  #- Location
  #- Medication
consumer:
  auth-jwks-url: https://thsa1.sanerproject.org:8443/realms/THSA/protocol/openid-connect/certs
  issuer: https://thsa1.sanerproject.org:8443/realms/THSA
  permissions:
    - resourceType: Bundle
      roles:
        - name: default
          permission: [read, write]
    - resourceType: Measure
      roles:
        - name: default
          permission: [read, $report-csv]
    - resourceType: MeasureReport
      roles:
        - name: default
          permission: [read]
